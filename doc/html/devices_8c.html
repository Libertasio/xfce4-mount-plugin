<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Xfce4-Mount-Plugin: panel-plugin/devices.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.1 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>Globals</span></a></li>
  </ul></div>
<h1>panel-plugin/devices.c File Reference</h1><code>#include &lt;fstab.h&gt;</code><br>
<code>#include &lt;glib.h&gt;</code><br>
<code>#include &lt;mntent.h&gt;</code><br>
<code>#include &lt;stdio.h&gt;</code><br>
<code>#include &lt;string.h&gt;</code><br>
<code>#include &lt;sys/vfs.h&gt;</code><br>
<code>#include &lt;libxfce4panel/xfce-panel-plugin.h&gt;</code><br>
<code>#include &lt;libxfce4util/libxfce4util.h&gt;</code><br>
<code>#include &lt;libxfcegui4/xfce-exec.h&gt;</code><br>
<code>#include &quot;<a class="el" href="devices_8h.html">devices.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="helpers_8c.html">helpers.c</a>&quot;</code><br>

<p>
Include dependency graph for devices.c:<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="devices_8c.html#1841fd1a462d245d8c73dce55e2f45da">KB</a>&nbsp;&nbsp;&nbsp;1024</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="devices_8c.html#a6b38d492364d98453284934ed7caee9">MB</a>&nbsp;&nbsp;&nbsp;1048576</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="devices_8c.html#44172ac633c517cb4c9e278cef36b000">GB</a>&nbsp;&nbsp;&nbsp;1073741824</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="devices_8c.html#5d79acdb21e93aa28d94d88b4074b39f">MTAB</a>&nbsp;&nbsp;&nbsp;&quot;/etc/mtab&quot;</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="devices_8c.html#8a863831b68ae4e6214d5ec7c3039d3f">get_size_human_readable</a> (float size)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="devices_8c.html#fd47215839c87d19a2a677593c0eebed">mount_info_print</a> (<a class="el" href="structs__mount__info.html">t_mount_info</a> *mount_info)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structs__mount__info.html">t_mount_info</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="devices_8c.html#f745bbc242db2c297ed8a899774d645f">mount_info_new</a> (float size, float used, float avail, unsigned int percent, char *type, char *mounted_on)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structs__mount__info.html">t_mount_info</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="devices_8c.html#e6424621414330f39844550188ace612">mount_info_new_from_stat</a> (struct statfs *pstatfs, char *mnt_type, char *mnt_dir)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="devices_8c.html#ef60ee0cf1abab4e52980911f1c30f18">mount_info_free</a> (<a class="el" href="structs__mount__info.html">t_mount_info</a> **mount_info)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="devices_8c.html#c978ef8aea74974d9f686e8db497d8bc">disk_print</a> (<a class="el" href="structs__disk.html">t_disk</a> *pdisk)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structs__disk.html">t_disk</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="devices_8c.html#df777a5b80b03c6767148e1a79aeb8a8">disk_new</a> (const char *dev, const char *mp)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="devices_8c.html#0d96f6113a428d2c5ad6012757389b60">disk_free</a> (<a class="el" href="structs__disk.html">t_disk</a> **pdisk)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="devices_8c.html#c33ec3e30502b3cb8bc9383226700231">disk_mount</a> (<a class="el" href="structs__disk.html">t_disk</a> *pdisk, char *on_mount_cmd, char *mount_command, gboolean eject)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="devices_8c.html#3fe8d9ca58dc2b6e940ae3d88000cf00">disk_umount</a> (<a class="el" href="structs__disk.html">t_disk</a> *pdisk, char *umount_command, gboolean synchronous, gboolean eject)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">GPtrArray *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="devices_8c.html#5beb2e3bb9bf818b9d0a123f09c7b3e1">disks_new</a> (gboolean include_NFSs)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="devices_8c.html#42e91044bfbe2dd6eda5dadf123c0804">disks_free</a> (GPtrArray **pdisks)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="devices_8c.html#19a649824cbb252b7b35e9be02067293">disks_print</a> (GPtrArray *pdisks)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">gboolean&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="devices_8c.html#0440882e67cb605a79d36bb883855d95">disks_remove_device</a> (GPtrArray *pdisks, char *device)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">gboolean&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="devices_8c.html#0a07f6192ae67fb23ff82b0f00df41c3">disks_remove_mountpoint</a> (GPtrArray *pdisks, char *mountp)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structs__disk.html">t_disk</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="devices_8c.html#d2ee08db98e7345183fb38f035f10a73">disks_search</a> (GPtrArray *pdisks, char *mount_point)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="devices_8c.html#d5abf6c0e7d9a511597b3b9371a08f18">disks_free_mount_info</a> (GPtrArray *pdisks)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="devices_8c.html#5fd88bedf758b22e14118d12adf14677">disks_refresh</a> (GPtrArray *pdisks)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="devices_8h.html#b5b37940bd0292a0467ceafedacc3669">t_deviceclass</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="devices_8c.html#9301dbb9ad7dfb42a389e392fcf429ce">disk_classify</a> (char *device, char *mountpoint)</td></tr>

</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="44172ac633c517cb4c9e278cef36b000"></a><!-- doxytag: member="devices.c::GB" ref="44172ac633c517cb4c9e278cef36b000" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GB&nbsp;&nbsp;&nbsp;1073741824          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="1841fd1a462d245d8c73dce55e2f45da"></a><!-- doxytag: member="devices.c::KB" ref="1841fd1a462d245d8c73dce55e2f45da" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define KB&nbsp;&nbsp;&nbsp;1024          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="a6b38d492364d98453284934ed7caee9"></a><!-- doxytag: member="devices.c::MB" ref="a6b38d492364d98453284934ed7caee9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MB&nbsp;&nbsp;&nbsp;1048576          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="5d79acdb21e93aa28d94d88b4074b39f"></a><!-- doxytag: member="devices.c::MTAB" ref="5d79acdb21e93aa28d94d88b4074b39f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MTAB&nbsp;&nbsp;&nbsp;&quot;/etc/mtab&quot;          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="9301dbb9ad7dfb42a389e392fcf429ce"></a><!-- doxytag: member="devices.c::disk_classify" ref="9301dbb9ad7dfb42a389e392fcf429ce" args="(char *device, char *mountpoint)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="devices_8h.html#b5b37940bd0292a0467ceafedacc3669">t_deviceclass</a> disk_classify           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>mountpoint</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns classification for given information <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>device</em>&nbsp;</td><td>Device to get class for </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mountpoint</em>&nbsp;</td><td>Mountpoint used as additional information for classfication </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Device class </dd></dl>

</div>
</div><p>
<a class="anchor" name="0d96f6113a428d2c5ad6012757389b60"></a><!-- doxytag: member="devices.c::disk_free" ref="0d96f6113a428d2c5ad6012757389b60" args="(t_disk **pdisk)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void disk_free           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structs__disk.html">t_disk</a> **&nbsp;</td>
          <td class="paramname"> <em>pdisk</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="c33ec3e30502b3cb8bc9383226700231"></a><!-- doxytag: member="devices.c::disk_mount" ref="c33ec3e30502b3cb8bc9383226700231" args="(t_disk *pdisk, char *on_mount_cmd, char *mount_command, gboolean eject)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void disk_mount           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structs__disk.html">t_disk</a> *&nbsp;</td>
          <td class="paramname"> <em>pdisk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>on_mount_cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>mount_command</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gboolean&nbsp;</td>
          <td class="paramname"> <em>eject</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return exit status of the mount command 
</div>
</div><p>
<a class="anchor" name="df777a5b80b03c6767148e1a79aeb8a8"></a><!-- doxytag: member="devices.c::disk_new" ref="df777a5b80b03c6767148e1a79aeb8a8" args="(const char *dev, const char *mp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structs__disk.html">t_disk</a>* disk_new           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>mp</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="c978ef8aea74974d9f686e8db497d8bc"></a><!-- doxytag: member="devices.c::disk_print" ref="c978ef8aea74974d9f686e8db497d8bc" args="(t_disk *pdisk)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void disk_print           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structs__disk.html">t_disk</a> *&nbsp;</td>
          <td class="paramname"> <em>pdisk</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="3fe8d9ca58dc2b6e940ae3d88000cf00"></a><!-- doxytag: member="devices.c::disk_umount" ref="3fe8d9ca58dc2b6e940ae3d88000cf00" args="(t_disk *pdisk, char *umount_command, gboolean synchronous, gboolean eject)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int disk_umount           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structs__disk.html">t_disk</a> *&nbsp;</td>
          <td class="paramname"> <em>pdisk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>umount_command</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gboolean&nbsp;</td>
          <td class="paramname"> <em>synchronous</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gboolean&nbsp;</td>
          <td class="paramname"> <em>eject</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return exit status of the umount command. 
</div>
</div><p>
<a class="anchor" name="42e91044bfbe2dd6eda5dadf123c0804"></a><!-- doxytag: member="devices.c::disks_free" ref="42e91044bfbe2dd6eda5dadf123c0804" args="(GPtrArray **pdisks)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void disks_free           </td>
          <td>(</td>
          <td class="paramtype">GPtrArray **&nbsp;</td>
          <td class="paramname"> <em>pdisks</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Free a GPtrArray containing pointer on struct t_disk elements 
</div>
</div><p>
<a class="anchor" name="d5abf6c0e7d9a511597b3b9371a08f18"></a><!-- doxytag: member="devices.c::disks_free_mount_info" ref="d5abf6c0e7d9a511597b3b9371a08f18" args="(GPtrArray *pdisks)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void disks_free_mount_info           </td>
          <td>(</td>
          <td class="paramtype">GPtrArray *&nbsp;</td>
          <td class="paramname"> <em>pdisks</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Remove struct t_mount_info from a GPtrArray containing struct t_disk * elements. 
</div>
</div><p>
<a class="anchor" name="5beb2e3bb9bf818b9d0a123f09c7b3e1"></a><!-- doxytag: member="devices.c::disks_new" ref="5beb2e3bb9bf818b9d0a123f09c7b3e1" args="(gboolean include_NFSs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GPtrArray* disks_new           </td>
          <td>(</td>
          <td class="paramtype">gboolean&nbsp;</td>
          <td class="paramname"> <em>include_NFSs</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Fill a GPtrArray with pointers on struct t_disk containing infos on devices and theoretical mount point. used setfsent() and getfsent(), now uses setmntent() and getmntent() and enmntent(). <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>include_NFSs</em>&nbsp;</td><td>whether to include network file systems </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>GPtrArray *pdisks containing elements to be displayed </dd></dl>

</div>
</div><p>
<a class="anchor" name="19a649824cbb252b7b35e9be02067293"></a><!-- doxytag: member="devices.c::disks_print" ref="19a649824cbb252b7b35e9be02067293" args="(GPtrArray *pdisks)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void disks_print           </td>
          <td>(</td>
          <td class="paramtype">GPtrArray *&nbsp;</td>
          <td class="paramname"> <em>pdisks</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Print a GPtrArray containing pointer on struct t_disk elements 
</div>
</div><p>
<a class="anchor" name="5fd88bedf758b22e14118d12adf14677"></a><!-- doxytag: member="devices.c::disks_refresh" ref="5fd88bedf758b22e14118d12adf14677" args="(GPtrArray *pdisks)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void disks_refresh           </td>
          <td>(</td>
          <td class="paramtype">GPtrArray *&nbsp;</td>
          <td class="paramname"> <em>pdisks</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Refreshes t_mount_info infos in a GPtrArray containing struct t_disk * elements. 
</div>
</div><p>
<a class="anchor" name="0440882e67cb605a79d36bb883855d95"></a><!-- doxytag: member="devices.c::disks_remove_device" ref="0440882e67cb605a79d36bb883855d95" args="(GPtrArray *pdisks, char *device)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean disks_remove_device           </td>
          <td>(</td>
          <td class="paramtype">GPtrArray *&nbsp;</td>
          <td class="paramname"> <em>pdisks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>device</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Removes specfied device from array. <dl class="return" compact><dt><b>Returns:</b></dt><dd>true on success, else false. </dd></dl>

</div>
</div><p>
<a class="anchor" name="0a07f6192ae67fb23ff82b0f00df41c3"></a><!-- doxytag: member="devices.c::disks_remove_mountpoint" ref="0a07f6192ae67fb23ff82b0f00df41c3" args="(GPtrArray *pdisks, char *mountp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean disks_remove_mountpoint           </td>
          <td>(</td>
          <td class="paramtype">GPtrArray *&nbsp;</td>
          <td class="paramname"> <em>pdisks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>mountp</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Removes specfied mount point from array. <dl class="return" compact><dt><b>Returns:</b></dt><dd>true on success, else false. </dd></dl>

</div>
</div><p>
<a class="anchor" name="d2ee08db98e7345183fb38f035f10a73"></a><!-- doxytag: member="devices.c::disks_search" ref="d2ee08db98e7345183fb38f035f10a73" args="(GPtrArray *pdisks, char *mount_point)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structs__disk.html">t_disk</a>* disks_search           </td>
          <td>(</td>
          <td class="paramtype">GPtrArray *&nbsp;</td>
          <td class="paramname"> <em>pdisks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>mount_point</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>a pointer on FIRST struct t_disk containing char * device as device field; if not found return NULL. </dd></dl>

</div>
</div><p>
<a class="anchor" name="8a863831b68ae4e6214d5ec7c3039d3f"></a><!-- doxytag: member="devices.c::get_size_human_readable" ref="8a863831b68ae4e6214d5ec7c3039d3f" args="(float size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* get_size_human_readable           </td>
          <td>(</td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>size</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return a string containing a size expressed in KB, MB or GB and the unit it is expressed in.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>size,:</em>&nbsp;</td><td>Size in bytes </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Formatted output, e.g. "1.5 GB" </dd></dl>

</div>
</div><p>
<a class="anchor" name="ef60ee0cf1abab4e52980911f1c30f18"></a><!-- doxytag: member="devices.c::mount_info_free" ref="ef60ee0cf1abab4e52980911f1c30f18" args="(t_mount_info **mount_info)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mount_info_free           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structs__mount__info.html">t_mount_info</a> **&nbsp;</td>
          <td class="paramname"> <em>mount_info</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="f745bbc242db2c297ed8a899774d645f"></a><!-- doxytag: member="devices.c::mount_info_new" ref="f745bbc242db2c297ed8a899774d645f" args="(float size, float used, float avail, unsigned int percent, char *type, char *mounted_on)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structs__mount__info.html">t_mount_info</a>* mount_info_new           </td>
          <td>(</td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>used</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>avail</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>percent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>mounted_on</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="e6424621414330f39844550188ace612"></a><!-- doxytag: member="devices.c::mount_info_new_from_stat" ref="e6424621414330f39844550188ace612" args="(struct statfs *pstatfs, char *mnt_type, char *mnt_dir)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structs__mount__info.html">t_mount_info</a>* mount_info_new_from_stat           </td>
          <td>(</td>
          <td class="paramtype">struct statfs *&nbsp;</td>
          <td class="paramname"> <em>pstatfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>mnt_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>mnt_dir</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Creates a new struct t_mount_info from a struct statfs data. 
</div>
</div><p>
<a class="anchor" name="fd47215839c87d19a2a677593c0eebed"></a><!-- doxytag: member="devices.c::mount_info_print" ref="fd47215839c87d19a2a677593c0eebed" args="(t_mount_info *mount_info)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mount_info_print           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structs__mount__info.html">t_mount_info</a> *&nbsp;</td>
          <td class="paramname"> <em>mount_info</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr size="1"><address style="align: right;"><small>Generated on Sun Feb 18 18:07:09 2007 for Xfce4-Mount-Plugin by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.1 </small></address>
</body>
</html>
